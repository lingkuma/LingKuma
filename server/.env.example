# ========================================
# Lingkuma Docker 环境变量配置模板
# ========================================
# 使用说明：
# 1. 复制此文件为 .env
# 2. 修改下面的配置值
# 3. 在 server 目录运行: docker-compose up -d
# ========================================

# Docker 镜像地址（可选，默认使用官方镜像）
# 如果使用自定义镜像，修改为: 你的用户名/仓库名:版本号
DOCKER_IMAGE=lingkuma/lingkuma-server:latest

# Node.js 环境
NODE_ENV=production

# 服务器端口
PORT=3000

# MongoDB 连接字符串
# 格式: mongodb://用户名:密码@主机:端口/数据库名?authSource=admin
# 示例: mongodb://admin:admin123@localhost:27017/lingkuma_db?authSource=admin
MONGODB_URI=mongodb://admin:admin123@localhost:27017/lingkuma_db?authSource=admin

# JWT 密钥（所有服务器必须相同）
# 用于生成和验证用户令牌
JWT_SECRET=your-jwt-secret-key-change-this

# 试用天数
TRIAL_DAYS=7

# 管理员密码
ADMIN_PASSWORD=your-admin-password-change-this

# 注册模式：localhost（本地服务器模式）或 afdian（爱发电注册模式）
# localhost：直接注册，99年试用
# afdian：必须输入爱发电用户ID，验证后注册，32天使用时长
REGISTER_MODE=localhost

# 服务器间通信密钥（所有服务器必须相同）
# 用于服务器之间的API通信签名验证
SERVER_API_SECRET=your-server-api-secret-change-this

# 服务器ID（每个服务器必须唯一）
# 官方服务器: official-server
# 自建服务器: self-hosted-server-1（每个自建服务器使用不同的唯一ID）
SERVER_ID=official-server

# 爱发电 OAuth 配置（仅在 REGISTER_MODE=afdian 时需要）
AFDIAN_CLIENT_ID=your-afdian-client-id
AFDIAN_CLIENT_SECRET=your-afdian-client-secret
AFDIAN_REDIRECT_URI=https://your-domain.com/api/auth/afdian/callback

# CORS 允许的域名（可选，默认允许所有）
# 使用 * 允许所有域名，或使用逗号分隔的域名列表
# 示例: https://example.com,https://api.example.com
CORS_ORIGINS=*

# Docker 网络名称（可选，默认使用 lingkuma-network）
NETWORK_NAME=lingkuma-network
